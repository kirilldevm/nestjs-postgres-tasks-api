### Variables

@baseUrl = http://localhost:3000

@contentType = application/json

# Main page
GET {{baseUrl}}


# Tasks page

### Get all tasks
# @name getAllTasks
GET {{baseUrl}}/tasks

### Get all tasks with status IN_PROGRESS
# @name getAllTasksWithStatusInProgress
GET {{baseUrl}}/tasks?labels=label1,label2&sortBy=createdAt&sortOrder=DESC


### Get a task by id
# @name getTaskById
GET {{baseUrl}}/tasks/{{taskId}}


### Create a task
# @name createTask
POST {{baseUrl}}/tasks
Content-Type: {{contentType}}

{
  "title": "Yoq",
  "description": "Task 1 description",
  "user_id": "321e47ff-a82f-4fe0-8342-974a40755316",
  "labels": [
    {
      "name": "label1"
    }
  ]
}

### Set task id
@taskId = {{ createTask.response.body.id }}

### Change task status
# @name changeTaskStatus
PATCH {{baseUrl}}/tasks/{{taskId}}/status
Content-Type: {{contentType}}

{
  "status": "IN_PROGRESS"
}

### Add labels to a task
# @name addLabels
PATCH {{baseUrl}}/tasks/{{taskId}}/labels
Content-Type: {{contentType}}

  [
    {
      "name": "label2"
    }
  ]

### Update task
PATCH {{baseUrl}}/tasks/{{taskId}}
Content-Type: {{contentType}}

{
  "title": "Updated Task",
  "description": "Updated description",
  "status": "DONE",
  "labels": [
  {
    "name": "label2"
  }
  ]
}

### Delete a task
DELETE {{baseUrl}}/tasks/{{taskId}}


### Remove labels from a task
DELETE {{baseUrl}}/tasks/{{taskId}}/labels
Content-Type: {{contentType}}

[
  "label1"
]